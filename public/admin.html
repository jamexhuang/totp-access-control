<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>管理員設定 - 門禁系統</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- 導航欄將由navbar.js注入 -->

  <!-- 主要內容區域 -->
  <div class="content">
    <div class="top-bar">
      <h1 class="h5 mb-0">管理員設定</h1>
    </div>
    
    <!-- 帳戶設定區域 -->
    <div class="row" id="settings">
      <div class="col-12 col-lg-8">
        <div class="card">
          <div class="card-header">管理員帳戶設定</div>
          <div class="card-body">
            <div id="admin-info">
              <p class="mb-1"><strong>使用者名稱:</strong> <span id="admin-username">載入中...</span></p>
              <p class="mb-1"><strong>信箱:</strong> <span id="admin-email">載入中...</span></p>
              <p><strong>上次登錄時間:</strong> <span id="admin-last-login">載入中...</span></p>
            </div>
            
            <!-- 使用者名稱修改表單 -->
            <div class="username-form">
              <h5 class="mt-4 mb-3">修改使用者名稱</h5>
              <form id="change-username-form" class="settings-form">
                <div class="form-group">
                  <label for="new-username" class="form-label">新使用者名稱</label>
                  <input type="text" id="new-username" class="form-control" placeholder="輸入新使用者名稱">
                  <small class="form-text text-muted">使用者名稱只能包含字母、數字和下劃線，長度3-20位</small>
                </div>
                <button type="submit" class="btn btn-primary">
                  <i class="bi bi-pencil"></i> 更改使用者名稱
                </button>
              </form>
            </div>
            
            <!-- 信箱更新表單 -->
            <h5 class="mt-4 mb-3">信箱地址</h5>
            <form id="update-email-form" class="settings-form">
              <div class="form-group">
                <input type="email" id="admin-email-input" class="form-control" placeholder="輸入新信箱地址" required>
              </div>
              <button type="submit" class="btn btn-primary">更新</button>
            </form>
            
            <!-- 密碼更新表單 -->
            <h5 class="mt-4 mb-3">更改密碼</h5>
            <form id="change-password-form" class="settings-form">
              <div class="form-group">
                <label for="current-password" class="form-label">當前密碼</label>
                <input type="password" id="current-password" class="form-control" required>
              </div>
              <div class="form-group">
                <label for="new-password" class="form-label">新密碼</label>
                <input type="password" id="new-password" class="form-control" required>
              </div>
              <div class="form-group">
                <label for="confirm-password" class="form-label">確認新密碼</label>
                <input type="password" id="confirm-password" class="form-control" required>
              </div>
              <button type="submit" class="btn btn-primary">更新密碼</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- 新增管理員區域 -->
    <div class="row mt-3">
      <div class="col-12 col-lg-8">
        <div class="card">
          <div class="card-header">新增管理員</div>
          <div class="card-body">
            <form id="add-admin-form" class="settings-form">
              <div class="form-group">
                <label for="new-admin-username" class="form-label">使用者名稱</label>
                <input type="text" id="new-admin-username" class="form-control" placeholder="輸入新管理員使用者名稱" required>
                <small class="form-text text-muted">使用者名稱只能包含字母、數字和下劃線，長度3-20位</small>
              </div>
              <div class="form-group">
                <label for="new-admin-password" class="form-label">密碼</label>
                <input type="password" id="new-admin-password" class="form-control" placeholder="輸入密碼" required>
                <small class="form-text text-muted">密碼長度至少6位</small>
              </div>
              <div class="form-group">
                <label for="new-admin-email" class="form-label">電子信箱 (選填)</label>
                <input type="email" id="new-admin-email" class="form-control" placeholder="輸入電子信箱">
              </div>
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-person-plus"></i> 創建管理員
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- 管理其他管理員區域 -->
    <div class="row mt-3">
      <div class="col-12">
        <div class="card">
          <div class="card-header">管理其他管理員</div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>編號</th>
                    <th>使用者名稱</th>
                    <th>信箱</th>
                    <th>狀態</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody id="admin-list">
                  <tr><td colspan="5" class="text-center">載入中...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer">
      門禁系統 © 2025 | 智慧安全解決方案
    </div>
  </div>
  
  <!-- JavaScript庫 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
  <script src="js/navbar.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
